TARGETNAME=oal
TARGETTYPE=LIBRARY
RELEASETYPE=PLATFORM
NOMIPS16CODE=1

INCLUDES=$(INCLUDES);..\..\inc;.\;$(_TARGETPLATROOT)\Src\Whimory\inc;$(_TARGETPLATROOT)\Src\Whimory\Public\inc;$(_TARGETPLATROOT)\Src\Whimory\OAM\OSLess;$(_TARGETPLATROOT)\Src\Whimory\Core\VFL;

CDEFINES=$(CDEFINES) -DCEDDK_USEDDKMACRO

!IF "$(BSP_USEDVS)" == "1"
CDEFINES=$(CDEFINES) -DDVS_EN
!ENDIF

!IF "$(BSP_KITL)" == "SERIAL_UART0"
CDEFINES=$(CDEFINES) -DKITL_SERIAL_UART0
!ENDIF
!IF "$(BSP_KITL)" == "SERIAL_UART1"
CDEFINES=$(CDEFINES) -DKITL_SERIAL_UART1
!ENDIF
!IF "$(BSP_KITL)" == "USBSERIAL"
CDEFINES=$(CDEFINES) -DKITL_USBSERIAL
!ENDIF
!IF "$(BSP_KITL)" == "ETHERNET"
CDEFINES=$(CDEFINES) -DKITL_ETHERNET
!ENDIF
!IF "$(BSP_KITL)" == "USBRNDIS"
CDEFINES=$(CDEFINES) -DKITL_USBRNDIS
!ENDIF

WHIMORYLIB=$(_TARGETPLATROOT)\src\Whimory\Lib

SOURCELIBS=$(SOURCELIBS) \
			$(WHIMORYLIB)\$(_TGTCPU)\$(WINCEDEBUG)\WMRGlobal.lib	\
			$(WHIMORYLIB)\$(_TGTCPU)\$(WINCEDEBUG)\FTL_$(WMR_NAND_SUPPORT).lib			\
			$(WHIMORYLIB)\$(_TGTCPU)\$(WINCEDEBUG)\VFL_$(WMR_NAND_SUPPORT).lib			\
			$(WHIMORYLIB)\$(_TGTCPU)\$(WINCEDEBUG)\PMHALWrapper.lib	\
#			$(WHIMORYLIB)\$(_TGTCPU)\$(WINCEDEBUG)\WinCEWMROAM.lib	\
			$(WHIMORYLIB)\$(_TGTCPU)\$(WINCEDEBUG)\OSLessWMROAM.lib	\
			$(WHIMORYLIB)\$(_TGTCPU)\$(WINCEDEBUG)\$(WMR_FIL)_$(WMR_NAND_SUPPORT)_FIL.lib	\
			$(WHIMORYLIB)\$(_TGTCPU)\$(WINCEDEBUG)\WMR_Utils.lib	\
		    $(_TARGETPLATROOT)\lib\$(_CPUINDPATH)\xllp_gpio_david.lib \
!IF "$(BSP_TYPE)"=="$(BSP_SMDK2443)"			
			$(_TARGETPLATROOT)\files\S3C2450REF_GPIO.lib	\
!ENDIF 
!IF "$(BSP_TYPE)"=="$(BSP_SMDK2450)"
!ENDIF 			
			$(WHIMORYLIB)\$(_TGTCPU)\$(WINCEDEBUG)\PSIIMDDOAL.lib	\
			$(_COMMONOAKROOT)\lib\$(_CPUINDPATH)\rne_mdd.lib
	
		

SOURCES=\
    init.c \
    intr.c \
    ioctl.c \
    args.c \
    kitl.c \
    kitlser.c \
    debug.c \
	power.c \


ARM_SOURCES=\
    startup.s
